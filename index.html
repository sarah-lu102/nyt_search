<!--<!DOCTYPE html>-->
<html>
	<head>
		<title>NYT API</title>

		<style>
			a.one{font-size: 50px;}
			a.one{text-decoration:none;}
			a.one{color: #B5D99C;}
			a.one{display: block;}

		</style>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script>

		var query = "rights";
		var count = 0;

		function getQuery() {
		query = document.getElementById("myText").value;

		//start copied code
		var url = "https://api.nytimes.com/svc/search/v2/articlesearch.json";
		url += '?' + $.param({
		  'api-key': "7585392444dd47af824efa8ea383e9a5",
		  'q': query
		});
		$.ajax({
		  url: url,
		  method: 'GET',
		}).done(function(result) {
		  console.log(result);

		  var rand = Math.floor((Math.random() * 10));

		  	//get headline
		  	document.getElementById("headline").innerHTML = result.response.docs[rand].headline.main;
		  	//get snippet
		  	document.getElementById("snippet").innerHTML = result.response.docs[rand].snippet;

		  	var link = result.response.docs[rand].web_url;
		  	count++;

		  	//get link (works. edit last " " before </a> to edit hyperlink)
		  	$("#testlink").append("<a href='"+link+"' rel='external' data-direction='reverse' class = 'one'>" +count + " - " +query + "</a>");


		 //get link
		//  $.getJSON(url,function(data){
  //  		$("#somelink").attr('href', result.response.docs["0"].web_url);
		// });


		}).fail(function(err) {
		  throw err;
		})

		}

		//document.write(query);


		</script>


	</head>

	<body>
		<h3>Headline: </h3>
		<p id = "headline"></p>

		<h3>Snippet: </h3>
		<p id = "snippet"></p>		

<!-- 		<h3>link: </h3>
		<a id="somelink" href="#">click here</a> -->

		<br>

		<p id = "testlink"><p>

<!-- 	textbox and button-->	
		<input type="text" id="myText" placeholder="enter query here">
		<button onclick="getQuery()">Try it</button>
<!-- 		<textarea rows="4" cols="50" placeholder="Enter query here!"></textarea>
 -->
		
	</body>
</html>